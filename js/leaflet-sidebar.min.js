L.Control.Sidebar=L.Control.extend({includes:L.Mixin.Events,initialize:function(i,t){var s,e;for(L.setOptions(this,t),this._sidebar=L.DomUtil.get(i),L.Browser.touch&&L.DomUtil.addClass(this._sidebar,"leaflet-touch"),s=this._sidebar.children.length-1;s>=0;s--)e=this._sidebar.children[s],"UL"==e.tagName&&L.DomUtil.hasClass(e,"sidebar-tabs")?this._tabs=e:"DIV"==e.tagName&&L.DomUtil.hasClass(e,"sidebar-content")&&(this._container=e);for(this._tabitems=[],s=this._tabs.children.length-1;s>=0;s--)e=this._tabs.children[s],"LI"==e.tagName&&(this._tabitems.push(e),e._sidebar=this);for(this._panes=[],s=this._container.children.length-1;s>=0;s--)e=this._container.children[s],"DIV"==e.tagName&&L.DomUtil.hasClass(e,"sidebar-pane")&&this._panes.push(e);this._hasTouchStart=L.Browser.touch&&"ontouchstart"in document.documentElement},addTo:function(i){this._map=i;for(var t=this._hasTouchStart?"touchstart":"click",s=this._tabitems.length-1;s>=0;s--){var e=this._tabitems[s];L.DomEvent.on(e.firstChild,t,this._onClick,e)}return this},removeFrom:function(){this._map=null;for(var i=this._hasTouchStart?"touchstart":"click",t=this._tabitems.length-1;t>=0;t--){var s=this._tabitems[t];L.DomEvent.off(s.firstChild,i,this._onClick)}return this},open:function(i){var t,s;for(t=this._panes.length-1;t>=0;t--)s=this._panes[t],s.id==i?L.DomUtil.addClass(s,"active"):L.DomUtil.hasClass(s,"active")&&L.DomUtil.removeClass(s,"active");for(t=this._tabitems.length-1;t>=0;t--)s=this._tabitems[t],s.firstChild.hash=="#"+i?L.DomUtil.addClass(s,"active"):L.DomUtil.hasClass(s,"active")&&L.DomUtil.removeClass(s,"active");return this.fire("content",{id:i}),L.DomUtil.hasClass(this._sidebar,"collapsed")&&(this.fire("opening"),L.DomUtil.removeClass(this._sidebar,"collapsed")),this},close:function(){for(var i=this._tabitems.length-1;i>=0;i--){var t=this._tabitems[i];L.DomUtil.hasClass(t,"active")&&L.DomUtil.removeClass(t,"active")}return L.DomUtil.hasClass(this._sidebar,"collapsed")||(this.fire("closing"),L.DomUtil.addClass(this._sidebar,"collapsed")),this},_onClick:function(){if("sidebar-collapse-tab"===this.id)L.DomUtil.hasClass(this.firstChild.firstChild,"fa-chevron-circle-left")?(this._sidebar.close(),L.DomUtil.removeClass(this.firstChild.firstChild,"fa-chevron-circle-left"),L.DomUtil.addClass(this.firstChild.firstChild,"fa-chevron-circle-right")):(this._sidebar.open(this.firstChild.hash.slice(1)),L.DomUtil.removeClass(this.firstChild.firstChild,"fa-chevron-circle-right"),L.DomUtil.removeClass(this,"active"),L.DomUtil.addClass(this.firstChild.firstChild,"fa-chevron-circle-left"));else if("sidebar-table-tab"===this.id)L.DomUtil.hasClass(this,"active")?(this._sidebar.close(),L.DomUtil.removeClass(this.firstChild.firstChild,"fa-angle-double-right"),L.DomUtil.addClass(this.firstChild.firstChild,"fa-angle-double-left")):(this._sidebar.open(this.firstChild.hash.slice(1)),L.DomUtil.removeClass(this.firstChild.firstChild,"fa-angle-double-left"),L.DomUtil.addClass(this.firstChild.firstChild,"fa-angle-double-right"));else if(this._sidebar.open(this.firstChild.hash.slice(1)),"sidebar-table-tab"!==this.id){var i=this.parentElement.children.namedItem("sidebar-collapse-tab");L.DomUtil.removeClass(i.firstChild.firstChild,"fa-chevron-circle-right"),L.DomUtil.addClass(i.firstChild.firstChild,"fa-chevron-circle-left"),L.DomUtil.removeClass(i,"active")}}}),L.control.sidebar=function(i,t){return new L.Control.Sidebar(i,t)};